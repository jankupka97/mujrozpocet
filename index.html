 <div class="grid xl:grid-cols-5 gap-8">
        <!-- Input Form -->
        <div class="xl:col-span-3">
            <div class="glass-card rounded-3xl p-8 shadow-xl">
                <!-- Income Section -->
                <div class="mb-12">
                    <div class="flex items-center mb-8">
                        <div class="w-2 h-8 bg-green-500 rounded-full mr-4"></div>
                        <h2 class="text-2xl font-bold text-gray-900">Příjmy</h2>
                    </div>
                    
                    <div class="grid gap-8">
                        <div class="space-y-6">
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-3">A.1 Měsíční příjem</label>
                                <input type="number" id="income" value="50000" class="w-full px-6 py-4 rounded-xl input-modern text-lg font-medium" placeholder="50000">
                                <div class="grid grid-cols-4 gap-3 mt-4">
                                    <button onclick="adjustIncome(-1000)" class="px-4 py-2 bg-red-50 text-red-600 rounded-lg text-sm font-medium hover:bg-red-100 btn-modern border border-red-200">-1000</button>
                                    <button onclick="adjustIncome(-100)" class="px-4 py-2 bg-red-50 text-red-600 rounded-lg text-sm font-medium hover:bg-red-100 btn-modern border border-red-200">-100</button>
                                    <button onclick="adjustIncome(100)" class="px-4 py-2 bg-green-50 text-green-600 rounded-lg text-sm font-medium hover:bg-green-100 btn-modern border border-green-200">+100</button>
                                    <button onclick="adjustIncome(1000)" class="px-4 py-2 bg-green-50 text-green-600 rounded-lg text-sm font-medium hover:bg-green-100 btn-modern border border-green-200">+1000</button>
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-3">A.2 Aktuální zůstatek na účtě</label>
                                <input type="number" id="balance" value="0" class="w-full px-6 py-4 rounded-xl input-modern text-lg font-medium" placeholder="0">
                                <div class="grid grid-cols-4 gap-3 mt-4">
                                    <button onclick="adjustBalance(-1000)" class="px-4 py-2 bg-red-50 text-red-600 rounded-lg text-sm font-medium hover:bg-red-100 btn-modern border border-red-200">-1000</button>
                                    <button onclick="adjustBalance(-100)" class="px-4 py-2 bg-red-50 text-red-600 rounded-lg text-sm font-medium hover:bg-red-100 btn-modern border border-red-200">-100</button>
                                    <button onclick="adjustBalance(100)" class="px-4 py-2 bg-green-50 text-green-600 rounded-lg text-sm font-medium hover:bg-green-100 btn-modern border border-green-200">+100</button>
                                    <button onclick="adjustBalance(1000)" class="px-4 py-2 bg-green-50 text-green-600 rounded-lg text-sm font-medium hover:bg-green-100 btn-modern border border-green-200">+1000</button>
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-3">A.3 Příspěvek zaměstnavatele - vázaný benefit</label>
                                <input type="number" id="employerContribution" value="300" class="w-full px-6 py-4 rounded-xl input-modern text-lg font-medium" placeholder="300">
                                <div class="grid grid-cols-4 gap-3 mt-4">
                                    <button onclick="adjustEmployerContribution(-100)" class="px-4 py-2 bg-red-50 text-red-600 rounded-lg text-sm font-medium hover:bg-red-100 btn-modern border border-red-200">-100</button>
                                    <button onclick="adjustEmployerContribution(-50)" class="px-4 py-2 bg-red-50 text-red-600 rounded-lg text-sm font-medium hover:bg-red-100 btn-modern border border-red-200">-50</button>
                                    <button onclick="adjustEmployerContribution(50)" class="px-4 py-2 bg-green-50 text-green-600 rounded-lg text-sm font-medium hover:bg-green-100 btn-modern border border-green-200">+50</button>
                                    <button onclick="adjustEmployerContribution(100)" class="px-4 py-2 bg-green-50 text-green-600 rounded-lg text-sm font-medium hover:bg-green-100 btn-modern border border-green-200">+100</button>
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-3">A.4 Můj příspěvek k vázanému benefitu z platu</label>
                                <input type="number" id="personalContribution" value="1700" class="w-full px-6 py-4 rounded-xl input-modern text-lg font-medium" placeholder="1700">
                                <div class="grid grid-cols-4 gap-3 mt-4">
                                    <button onclick="adjustPersonalContribution(-500)" class="px-4 py-2 bg-red-50 text-red-600 rounded-lg text-sm font-medium hover:bg-red-100 btn-modern border border-red-200">-500</button>
                                    <button onclick="adjustPersonalContribution(-100)" class="px-4 py-2 bg-red-50 text-red-600 rounded-lg text-sm font-medium hover:bg-red-100 btn-modern border border-red-200">-100</button>
                                    <button onclick="adjustPersonalContribution(100)" class="px-4 py-2 bg-green-50 text-green-600 rounded-lg text-sm font-medium hover:bg-green-100 btn-modern border border-green-200">+100</button>
                                    <button onclick="adjustPersonalContribution(500)" class="px-4 py-2 bg-green-50 text-green-600 rounded-lg text-sm font-medium hover:bg-green-100 btn-modern border border-green-200">+500</button>
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-3">A.5 Srážka z platu (stravné, dary, výživné, exekuce)</label>
                                <input type="number" id="payrollDeduction" value="0" class="w-full px-6 py-4 rounded-xl input-modern text-lg font-medium" placeholder="0">
                                <div class="grid grid-cols-4 gap-3 mt-4">
                                    <button onclick="adjustPayrollDeduction(-500)" class="px-4 py-2 bg-red-50 text-red-600 rounded-lg text-sm font-medium hover:bg-red-100 btn-modern border border-red-200">-500</button>
                                    <button onclick="adjustPayrollDeduction(-100)" class="px-4 py-2 bg-red-50 text-red-600 rounded-lg text-sm font-medium hover:bg-red-100 btn-modern border border-red-200">-100</button>
                                    <button onclick="adjustPayrollDeduction(100)" class="px-4 py-2 bg-green-50 text-green-600 rounded-lg text-sm font-medium hover:bg-green-100 btn-modern border border-green-200">+100</button>
                                    <button onclick="adjustPayrollDeduction(500)" class="px-4 py-2 bg-green-50 text-green-600 rounded-lg text-sm font-medium hover:bg-green-100 btn-modern border border-green-200">+500</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="section-divider mb-12"></div>

                <!-- Housing Expenses -->
                <div class="mb-12">
                    <div class="flex items-center mb-8">
                        <div class="w-2 h-8 bg-orange-500 rounded-full mr-4"></div>
                        <h2 class="text-2xl font-bold text-gray-900">Bydlení</h2>
                    </div>
                    
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-3">B.1 Náklady na bydlení (hypotéka, nájem)</label>
                            <input type="number" id="housingCosts" value="0" class="w-full px-6 py-4 rounded-xl input-modern text-lg font-medium" placeholder="0">
                            <div class="grid grid-cols-4 gap-2 mt-3">
                                <button onclick="adjustExpense('housingCosts', -5000)" class="px-3 py-2 bg-red-50 text-red-600 rounded-lg text-xs font-medium hover:bg-red-100 btn-modern border border-red-200">-5000</button>
                                <button onclick="adjustExpense('housingCosts', -1000)" class="px-3 py-2 bg-red-50 text-red-600 rounded-lg text-xs font-medium hover:bg-red-100 btn-modern border border-red-200">-1000</button>
                                <button onclick="adjustExpense('housingCosts', 1000)" class="px-3 py-2 bg-green-50 text-green-600 rounded-lg text-xs font-medium hover:bg-green-100 btn-modern border border-green-200">+1000</button>
                                <button onclick="adjustExpense('housingCosts', 5000)" class="px-3 py-2 bg-green-50 text-green-600 rounded-lg text-xs font-medium hover:bg-green-100 btn-modern border border-green-200">+5000</button>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-3">B.1.1 Fond oprav</label>
                            <input type="number" id="repairFund" value="0" class="w-full px-6 py-4 rounded-xl input-modern text-lg font-medium" placeholder="0">
                            <div class="grid grid-cols-4 gap-2 mt-3">
                                <button onclick="adjustExpense('repairFund', -500)" class="px-3 py-2 bg-red-50 text-red-600 rounded-lg text-xs font-medium hover:bg-red-100 btn-modern border border-red-200">-500</button>
                                <button onclick="adjustExpense('repairFund', -100)" class="px-3 py-2 bg-red-50 text-red-600 rounded-lg text-xs font-medium hover:bg-red-100 btn-modern border border-red-200">-100</button>
                                <button onclick="adjustExpense('repairFund', 100)" class="px-3 py-2 bg-green-50 text-green-600 rounded-lg text-xs font-medium hover:bg-green-100 btn-modern border border-green-200">+100</button>
                                <button onclick="adjustExpense('repairFund', 500)" class="px-3 py-2 bg-green-50 text-green-600 rounded-lg text-xs font-medium hover:bg-green-100 btn-modern border border-green-200">+500</button>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-3">B.2 Elektrická energie</label>
                            <input type="number" id="electricity" value="1800" class="w-full px-6 py-4 rounded-xl input-modern text-lg font-medium" placeholder="1800">
                            <div class="grid grid-cols-4 gap-2 mt-3">
                                <button onclick="adjustExpense('electricity', -500)" class="px-3 py-2 bg-red-50 text-red-600 rounded-lg text-xs font-medium hover:bg-red-100 btn-modern border border-red-200">-500</button>
                                <button onclick="adjustExpense('electricity', -100)" class="px-3 py-2 bg-red-50 text-red-600 rounded-lg text-xs font-medium hover:bg-red-100 btn-modern border border-red-200">-100</button>
                                <button onclick="adjustExpense('electricity', 100)" class="px-3 py-2 bg-green-50 text-green-600 rounded-lg text-xs font-medium hover:bg-green-100 btn-modern border border-green-200">+100</button>
                                <button onclick="adjustExpense('electricity', 500)" class="px-3 py-2 bg-green-50 text-green-600 rounded-lg text-xs font-medium hover:bg-green-100 btn-modern border border-green-200">+500</button>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-3">B.3 Plyn</label>
                            <input type="number" id="gas" value="1800" class="w-full px-6 py-4 rounded-xl input-modern text-lg font-medium" placeholder="1800">
                            <div class="grid grid-cols-4 gap-2 mt-3">
                                <button onclick="adjustExpense('gas', -500)" class="px-3 py-2 bg-red-50 text-red-600 rounded-lg text-xs font-medium hover:bg-red-100 btn-modern border border-red-200">-500</button>
                                <button onclick="adjustExpense('gas', -100)" class="px-3 py-2 bg-red-50 text-red-600 rounded-lg text-xs font-medium hover:bg-red-100 btn-modern border border-red-200">-100</button>
                                <button onclick="adjustExpense('gas', 100)" class="px-3 py-2 bg-green-50 text-green-600 rounded-lg text-xs font-medium hover:bg-green-100 btn-modern border border-green-200">+100</button>
                                <button onclick="adjustExpense('gas', 500)" class="px-3 py-2 bg-green-50 text-green-600 rounded-lg text-xs font-medium hover:bg-green-100 btn-modern border border-green-200">+500</button>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-3">B.4 Vodné/stočné</label>
                            <input type="number" id="water" value="0" class="w-full px-6 py-4 rounded-xl input-modern text-lg font-medium" placeholder="0">
                            <div class="grid grid-cols-4 gap-2 mt-3">
                                <button onclick="adjustExpense('water', -200)" class="px-3 py-2 bg-red-50 text-red-600 rounded-lg text-xs font-medium hover:bg-red-100 btn-modern border border-red-200">-200</button>
                                <button onclick="adjustExpense('water', -50)" class="px-3 py-2 bg-red-50 text-red-600 rounded-lg text-xs font-medium hover:bg-red-100 btn-modern border border-red-200">-50</button>
                                <button onclick="adjustExpense('water', 50)" class="px-3 py-2 bg-green-50 text-green-600 rounded-lg text-xs font-medium hover:bg-green-100 btn-modern border border-green-200">+50</button>
                                <button onclick="adjustExpense('water', 200)" class="px-3 py-2 bg-green-50 text-green-600 rounded-lg text-xs font-medium hover:bg-green-100 btn-modern border border-green-200">+200</button>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-3">B.5 Komunikační služby</label>
                            <input type="number" id="communication" value="300" class="w-full px-6 py-4 rounded-xl input-modern text-lg font-medium" placeholder="300">
                            <div class="grid grid-cols-4 gap-2 mt-3">
                                <button onclick="adjustExpense('communication', -200)" class="px-3 py-2 bg-red-50 text-red-600 rounded-lg text-xs font-medium hover:bg-red-100 btn-modern border border-red-200">-200</button>
                                <button onclick="adjustExpense('communication', -50)" class="px-3 py-2 bg-red-50 text-red-600 rounded-lg text-xs font-medium hover:bg-red-100 btn-modern border border-red-200">-50</button>
                                <button onclick="adjustExpense('communication', 50)" class="px-3 py-2 bg-green-50 text-green-600 rounded-lg text-xs font-medium hover:bg-green-100 btn-modern border border-green-200">+50</button>
                                <button onclick="adjustExpense('communication', 200)" class="px-3 py-2 bg-green-50 text-green-600 rounded-lg text-xs font-medium hover:bg-green-100 btn-modern border border-green-200">+200</button>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-3">B.6 Pojištění domácnosti roční</label>
                            <input type="number" id="homeInsurance" value="0" class="w-full px-6 py-4 rounded-xl input-modern text-lg font-medium" placeholder="0">
                            <div class="grid grid-cols-4 gap-2 mt-3">
                                <button onclick="adjustExpense('homeInsurance', -2000)" class="px-3 py-2 bg-red-50 text-red-600 rounded-lg text-xs font-medium hover:bg-red-100 btn-modern border border-red-200">-2000</button>
                                <button onclick="adjustExpense('homeInsurance', -500)" class="px-3 py-2 bg-red-50 text-red-600 rounded-lg text-xs font-medium hover:bg-red-100 btn-modern border border-red-200">-500</button>
                                <button onclick="adjustExpense('homeInsurance', 500)" class="px-3 py-2 bg-green-50 text-green-600 rounded-lg text-xs font-medium hover:bg-green-100 btn-modern border border-green-200">+500</button>
                                <button onclick="adjustExpense('homeInsurance', 2000)" class="px-3 py-2 bg-green-50 text-green-600 rounded-lg text-xs font-medium hover:bg-green-100 btn-modern border border-green-200">+2000</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="section-divider mb-12"></div>

                <!-- Mobility Expenses -->
                <div class="mb-12">
                    <div class="flex items-center mb-8">
                        <div class="w-2 h-8 bg-blue-500 rounded-full mr-4"></div>
                        <h2 class="text-2xl font-bold text-gray-900">Mobilita</h2>
                    </div>
                    
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-3">C.1 Operativní leasing/úvěr</label>
                            <input type="number" id="leasing" value="0" class="w-full px-6 py-4 rounded-xl input-modern text-lg font-medium" placeholder="0">
                            <div class="grid grid-cols-4 gap-2 mt-3">
                                <button onclick="adjustExpense('leasing', -2000)" class="px-3 py-2 bg-red-50 text-red-600 rounded-lg text-xs font-medium hover:bg-red-100 btn-modern border border-red-200">-2000</button>
                                <button onclick="adjustExpense('leasing', -500)" class="px-3 py-2 bg-red-50 text-red-600 rounded-lg text-xs font-medium hover:bg-red-100 btn-modern border border-red-200">-500</button>
                                <button onclick="adjustExpense('leasing', 500)" class="px-3 py-2 bg-green-50 text-green-600 rounded-lg text-xs font-medium hover:bg-green-100 btn-modern border border-green-200">+500</button>
                                <button onclick="adjustExpense('leasing', 2000)" class="px-3 py-2 bg-green-50 text-green-600 rounded-lg text-xs font-medium hover:bg-green-100 btn-modern border border-green-200">+2000</button>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-3">C.2 Pohonné hmoty/měsíčně</label>
                            <input type="number" id="fuel" value="0" class="w-full px-6 py-4 rounded-xl input-modern text-lg font-medium" placeholder="0">
                            <div class="grid grid-cols-4 gap-2 mt-3">
                                <button onclick="adjustExpense('fuel', -1000)" class="px-3 py-2 bg-red-50 text-red-600 rounded-lg text-xs font-medium hover:bg-red-100 btn-modern border border-red-200">-1000</button>
                                <button onclick="adjustExpense('fuel', -500)" class="px-3 py-2 bg-red-50 text-red-600 rounded-lg text-xs font-medium hover:bg-red-100 btn-modern border border-red-200">-500</button>
                                <button onclick="adjustExpense('fuel', 500)" class="px-3 py-2 bg-green-50 text-green-600 rounded-lg text-xs font-medium hover:bg-green-100 btn-modern border border-green-200">+500</button>
                                <button onclick="adjustExpense('fuel', 1000)" class="px-3 py-2 bg-green-50 text-green-600 rounded-lg text-xs font-medium hover:bg-green-100 btn-modern border border-green-200">+1000</button>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-3">C.3 Pojištění roční POV/HAV</label>
                            <input type="number" id="insurance" value="0" class="w-full px-6 py-4 rounded-xl input-modern text-lg font-medium" placeholder="0">
                            <div class="grid grid-cols-4 gap-2 mt-3">
                                <button onclick="adjustExpense('insurance', -5000)" class="px-3 py-2 bg-red-50 text-red-600 rounded-lg text-xs font-medium hover:bg-red-100 btn-modern border border-red-200">-5000</button>
                                <button onclick="adjustExpense('insurance', -1000)" class="px-3 py-2 bg-red-50 text-red-600 rounded-lg text-xs font-medium hover:bg-red-100 btn-modern border border-red-200">-1000</button>
                                <button onclick="adjustExpense('insurance', 1000)" class="px-3 py-2 bg-green-50 text-green-600 rounded-lg text-xs font-medium hover:bg-green-100 btn-modern border border-green-200">+1000</button>
                                <button onclick="adjustExpense('insurance', 5000)" class="px-3 py-2 bg-green-50 text-green-600 rounded-lg text-xs font-medium hover:bg-green-100 btn-modern border border-green-200">+5000</button>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-3">C.4 Pravidelný servis roční</label>
                            <input type="number" id="service" value="0" class="w-full px-6 py-4 rounded-xl input-modern text-lg font-medium" placeholder="0">
                            <div class="grid grid-cols-4 gap-2 mt-3">
                                <button onclick="adjustExpense('service', -1000)" class="px-3 py-2 bg-red-50 text-red-600 rounded-lg text-xs font-medium hover:bg-red-100 btn-modern border border-red-200">-1000</button>
                                <button onclick="adjustExpense('service', -200)" class="px-3 py-2 bg-red-50 text-red-600 rounded-lg text-xs font-medium hover:bg-red-100 btn-modern border border-red-200">-200</button>
                                <button onclick="adjustExpense('service', 200)" class="px-3 py-2 bg-green-50 text-green-600 rounded-lg text-xs font-medium hover:bg-green-100 btn-modern border border-green-200">+200</button>
                                <button onclick="adjustExpense('service', 1000)" class="px-3 py-2 bg-green-50 text-green-600 rounded-lg text-xs font-medium hover:bg-green-100 btn-modern border border-green-200">+1000</button>
                            </div>
                        </div>
                    </div>
                </div>

                <button onclick="calculateBudget()" class="w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white py-5 px-8 rounded-2xl font-semibold text-lg hover:from-blue-700 hover:to-blue-800 btn-modern shadow-lg">
                    Vypočítat rozpočet
                </button>
            </div>
        </div>

        <!-- Results -->
        <div class="xl:col-span-2 space-y-6">
            <!-- Income Panel -->
            <div class="glass-card rounded-3xl p-6 shadow-xl">
                <div class="flex items-center mb-6">
                    <div class="w-2 h-8 bg-green-500 rounded-full mr-4"></div>
                    <h3 class="text-xl font-bold text-gray-900">Příjmy</h3>
                </div>
                <div id="incomePanel" class="space-y-4">
                    <div class="text-center text-gray-400 py-12">
                        <div class="w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4">
                            <svg class="w-8 h-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path>
                            </svg>
                        </div>
                        <p class="text-sm font-medium">Vyplňte údaje pro zobrazení příjmů</p>
                    </div>
                </div>
            </div>

            <!-- Expenses Panel -->
            <div class="glass-card rounded-3xl p-6 shadow-xl">
                <div class="flex items-center mb-6">
                    <div class="w-2 h-8 bg-red-500 rounded-full mr-4"></div>
                    <h3 class="text-xl font-bold text-gray-900">Výdaje</h3>
                </div>
                <div id="expensesPanel" class="space-y-4">
                    <div class="text-center text-gray-400 py-12">
                        <div class="w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4">
                            <svg class="w-8 h-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                            </svg>
                        </div>
                        <p class="text-sm font-medium">Vyplňte údaje pro zobrazení výdajů</p>
                    </div>
                </div>
            </div>

            <!-- Budget Summary Panel -->
            <div class="glass-card rounded-3xl p-6 shadow-xl">
                <div class="flex items-center mb-6">
                    <div class="w-2 h-8 bg-blue-500 rounded-full mr-4"></div>
                    <h3 class="text-xl font-bold text-gray-900">Rozpočtové shrnutí</h3>
                </div>
                <div id="budgetResults" class="space-y-4">
                    <div class="text-center text-gray-400 py-12">
                        <div class="w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4">
                            <svg class="w-8 h-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                            </svg>
                        </div>
                        <p class="text-sm font-medium">Klikněte na "Vypočítat rozpočet"</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Tips Section -->
    <div class="mt-16 glass-card rounded-3xl p-8 shadow-xl">
        <h3 class="text-2xl font-bold text-gray-900 mb-8 text-center">Tipy pro lepší rozpočet</h3>
        <div class="grid md:grid-cols-3 gap-8">
            <div class="text-center">
                <div class="w-16 h-16 bg-blue-100 rounded-2xl flex items-center justify-center mx-auto mb-4">
                    <svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                </div>
                <h4 class="font-bold text-gray-900 mb-2">Pravidlo 50/30/20</h4>
                <p class="text-gray-600 text-sm">50% potřeby, 30% přání, 20% úspory</p>
            </div>
            <div class="text-center">
                <div class="w-16 h-16 bg-green-100 rounded-2xl flex items-center justify-center mx-auto mb-4">
                    <svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                    </svg>
                </div>
                <h4 class="font-bold text-gray-900 mb-2">Sledujte výdaje</h4>
                <p class="text-gray-600 text-sm">Zapisujte si všechny výdaje každý den</p>
            </div>
            <div class="text-center">
                <div class="w-16 h-16 bg-yellow-100 rounded-2xl flex items-center justify-center mx-auto mb-4">
                    <svg class="w-8 h-8 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z"></path>
                    </svg>
                </div>
                <h4 class="font-bold text-gray-900 mb-2">Nouzový fond</h4>
                <p class="text-gray-600 text-sm">Mějte rezervu na 3-6 měsíců výdajů</p>
            </div>
        </div>
    </div>
</div>

<script>
    // Adjust income with buttons
    function adjustIncome(amount) {
        const incomeInput = document.getElementById('income');
        const currentValue = parseFloat(incomeInput.value) || 0;
        const newValue = Math.max(0, currentValue + amount);
        incomeInput.value = newValue;
    }

    // Adjust balance with buttons
    function adjustBalance(amount) {
        const balanceInput = document.getElementById('balance');
        const currentValue = parseFloat(balanceInput.value) || 0;
        const newValue = Math.max(0, currentValue + amount);
        balanceInput.value = newValue;
    }

    // Adjust employer contribution with buttons
    function adjustEmployerContribution(amount) {
        const contributionInput = document.getElementById('employerContribution');
        const currentValue = parseFloat(contributionInput.value) || 0;
        const newValue = Math.max(0, currentValue + amount);
        contributionInput.value = newValue;
    }

    // Adjust personal contribution with buttons
    function adjustPersonalContribution(amount) {
        const contributionInput = document.getElementById('personalContribution');
        const currentValue = parseFloat(contributionInput.value) || 0;
        const newValue = Math.max(0, currentValue + amount);
        contributionInput.value = newValue;
    }

    // Adjust payroll deduction with buttons
    function adjustPayrollDeduction(amount) {
        const deductionInput = document.getElementById('payrollDeduction');
        const currentValue = parseFloat(deductionInput.value) || 0;
        const newValue = Math.max(0, currentValue + amount);
        deductionInput.value = newValue;
    }

    // Adjust expense with buttons
    function adjustExpense(expenseId, amount) {
        const expenseInput = document.getElementById(expenseId);
        const currentValue = parseFloat(expenseInput.value) || 0;
        const newValue = Math.max(0, currentValue + amount);
        expenseInput.value = newValue;
    }

    function calculateBudget() {
        const income = parseFloat(document.getElementById('income').value) || 0;
        const balance = parseFloat(document.getElementById('balance').value) || 0;
        const employerContribution = parseFloat(document.getElementById('employerContribution').value) || 0;
        const personalContribution = parseFloat(document.getElementById('personalContribution').value) || 0;
        const payrollDeduction = parseFloat(document.getElementById('payrollDeduction').value) || 0;
        
        // Get housing expenses
        const housingCosts = parseFloat(document.getElementById('housingCosts').value) || 0;
        const repairFund = parseFloat(document.getElementById('repairFund').value) || 0;
        const electricity = parseFloat(document.getElementById('electricity').value) || 0;
        const gas = parseFloat(document.getElementById('gas').value) || 0;
        const water = parseFloat(document.getElementById('water').value) || 0;
        const communication = parseFloat(document.getElementById('communication').value) || 0;
        const homeInsurance = parseFloat(document.getElementById('homeInsurance').value) || 0;
        const monthlyHomeInsurance = homeInsurance / 12; // Convert annual to monthly
        
        // Get mobility expenses
        const leasing = parseFloat(document.getElementById('leasing').value) || 0;
        const fuel = parseFloat(document.getElementById('fuel').value) || 0;
        const insurance = parseFloat(document.getElementById('insurance').value) || 0;
        const monthlyInsurance = insurance / 12; // Convert annual to monthly
        const service = parseFloat(document.getElementById('service').value) || 0;
        const monthlyService = service / 12; // Convert annual to monthly
        
        const totalHousingExpenses = housingCosts + repairFund + electricity + gas + water + communication + monthlyHomeInsurance;
        const totalMobilityExpenses = leasing + fuel + monthlyInsurance + monthlyService;
        const totalFixedExpenses = totalHousingExpenses + totalMobilityExpenses;

        if (income <= 0) {
            alert('Prosím zadejte váš měsíční příjem');
            return;
        }

        const totalAvailable = income + balance + employerContribution - personalContribution - payrollDeduction;
        
        if (totalFixedExpenses >= totalAvailable) {
            alert('Celkové pevné výdaje nemohou být vyšší než dostupné prostředky');
            return;
        }

        // Simple budget calculation
        const availableAfterFixed = totalAvailable - totalFixedExpenses;
        const savings = availableAfterFixed * 0.2; // 20% for savings
        const emergency = availableAfterFixed * 0.1; // 10% for emergency
        const flexible = availableAfterFixed - savings - emergency;

        // Calculate projections
        const endOfMonthBalance = flexible + savings + emergency;
        const emergencyFundGoal = totalFixedExpenses * 3;
        const emergencyProgress = (emergency / emergencyFundGoal * 100).toFixed(1);

        displayResults({
            income,
            balance,
            employerContribution,
            personalContribution,
            payrollDeduction,
            totalAvailable,
            housingCosts,
            repairFund,
            electricity,
            gas,
            water,
            communication,
            homeInsurance,
            monthlyHomeInsurance,
            leasing,
            fuel,
            insurance,
            monthlyInsurance,
            service,
            monthlyService,
            totalHousingExpenses,
            totalMobilityExpenses,
            totalFixedExpenses,
            savings,
            flexible,
            emergency,
            endOfMonthBalance,
            emergencyProgress
        });
    }

    function displayResults(budget) {
        // Update Income Panel
        const incomePanel = document.getElementById('incomePanel');
        incomePanel.innerHTML = `
            <div class="space-y-4">
                <div class="flex justify-between items-center p-4 bg-green-50 rounded-2xl border border-green-100">
                    <span class="font-semibold text-green-800">Měsíční příjem</span>
                    <span class="text-xl font-bold text-green-800">${budget.income.toLocaleString()} Kč</span>
                </div>
                <div class="flex justify-between items-center p-4 bg-purple-50 rounded-2xl border border-purple-100">
                    <span class="font-semibold text-purple-800">Aktuální zůstatek</span>
                    <span class="text-xl font-bold text-purple-800">${budget.balance.toLocaleString()} Kč</span>
                </div>
                <div class="flex justify-between items-center p-4 bg-teal-50 rounded-2xl border border-teal-100">
                    <span class="font-semibold text-teal-800">Příspěvek zaměstnavatele</span>
                    <span class="text-xl font-bold text-teal-800">${budget.employerContribution.toLocaleString()} Kč</span>
                </div>
                <div class="flex justify-between items-center p-4 bg-red-50 rounded-2xl border border-red-100">
                    <span class="font-semibold text-red-800">Můj příspěvek k benefitu</span>
                    <span class="text-xl font-bold text-red-800">-${budget.personalContribution.toLocaleString()} Kč</span>
                </div>
                <div class="flex justify-between items-center p-4 bg-pink-50 rounded-2xl border border-pink-100">
                    <span class="font-semibold text-pink-800">Srážka z platu</span>
                    <span class="text-xl font-bold text-pink-800">-${budget.payrollDeduction.toLocaleString()} Kč</span>
                </div>
                <div class="flex justify-between items-center p-4 bg-blue-50 rounded-2xl border border-blue-100">
                    <span class="font-bold text-blue-800">Celkem k dispozici</span>
                    <span class="text-2xl font-bold text-blue-800">${budget.totalAvailable.toLocaleString()} Kč</span>
                </div>
            </div>
        `;

        // Update Expenses Panel
        const expensesPanel = document.getElementById('expensesPanel');
        expensesPanel.innerHTML = `
            <div class="space-y-4">
                <div class="p-4 bg-orange-50 rounded-2xl border border-orange-100">
                    <div class="flex justify-between items-center mb-3">
                        <span class="font-bold text-orange-800">Bydlení celkem</span>
                        <span class="text-xl font-bold text-orange-800">${budget.totalHousingExpenses.toLocaleString()} Kč</span>
                    </div>
                    <div class="space-y-1 text-sm text-orange-600">
                        <div class="flex justify-between">
                            <span>• Náklady na bydlení</span>
                            <span>${budget.housingCosts.toLocaleString()} Kč</span>
                        </div>
                        <div class="flex justify-between">
                            <span>• Fond oprav</span>
                            <span>${budget.repairFund.toLocaleString()} Kč</span>
                        </div>
                        <div class="flex justify-between">
                            <span>• Elektřina</span>
                            <span>${budget.electricity.toLocaleString()} Kč</span>
                        </div>
                        <div class="flex justify-between">
                            <span>• Plyn</span>
                            <span>${budget.gas.toLocaleString()} Kč</span>
                        </div>
                        <div class="flex justify-between">
                            <span>• Vodné/stočné</span>
                            <span>${budget.water.toLocaleString()} Kč</span>
                        </div>
                        <div class="flex justify-between">
                            <span>• Komunikace</span>
                            <span>${budget.communication.toLocaleString()} Kč</span>
                        </div>
                        <div class="flex justify-between">
                            <span>• Pojištění domácnosti</span>
                            <span>${budget.monthlyHomeInsurance.toLocaleString()} Kč</span>
                        </div>
                    </div>
                </div>

                <div class="p-4 bg-blue-50 rounded-2xl border border-blue-100">
                    <div class="flex justify-between items-center mb-3">
                        <span class="font-bold text-blue-800">Mobilita celkem</span>
                        <span class="text-xl font-bold text-blue-800">${budget.totalMobilityExpenses.toLocaleString()} Kč</span>
                    </div>
                    <div class="space-y-1 text-sm text-blue-600">
                        <div class="flex justify-between">
                            <span>• Operativní leasing/úvěr</span>
                            <span>${budget.leasing.toLocaleString()} Kč</span>
                        </div>
                        <div class="flex justify-between">
                            <span>• Pohonné hmoty</span>
                            <span>${budget.fuel.toLocaleString()} Kč</span>
                        </div>
                        <div class="flex justify-between">
                            <span>• Pojištění</span>
                            <span>${budget.monthlyInsurance.toLocaleString()} Kč</span>
                        </div>
                        <div class="flex justify-between">
                            <span>• Pravidelný servis</span>
                            <span>${budget.monthlyService.toLocaleString()} Kč</span>
                        </div>
                    </div>
                </div>

                <div class="p-4 bg-gray-50 rounded-2xl border border-gray-100">
                    <div class="flex justify-between items-center">
                        <span class="font-bold text-gray-800">Celkové výdaje</span>
                        <span class="text-2xl font-bold text-gray-800">${budget.totalFixedExpenses.toLocaleString()} Kč</span>
                    </div>
                </div>
            </div>
        `;

        // Update Budget Results Panel
        const resultsDiv = document.getElementById('budgetResults');
        resultsDiv.innerHTML = `
            <div class="space-y-4">
                <div class="flex justify-between items-center p-4 bg-green-50 rounded-2xl border border-green-100">
                    <div>
                        <div class="font-bold text-green-800">Úspory (20%)</div>
                        <div class="text-sm text-green-600">Investice a dlouhodobé cíle</div>
                    </div>
                    <div class="text-xl font-bold text-green-800">${budget.savings.toLocaleString()} Kč</div>
                </div>

                <div class="flex justify-between items-center p-4 bg-blue-50 rounded-2xl border border-blue-100">
                    <div>
                        <div class="font-bold text-blue-800">Volné prostředky</div>
                        <div class="text-sm text-blue-600">Jídlo, zábava, nákupy</div>
                    </div>
                    <div class="text-xl font-bold text-blue-800">${budget.flexible.toLocaleString()} Kč</div>
                </div>

                <div class="flex justify-between items-center p-4 bg-yellow-50 rounded-2xl border border-yellow-100">
                    <div>
                        <div class="font-bold text-yellow-800">Nouzová rezerva</div>
                        <div class="text-sm text-yellow-600">Pokrok: ${budget.emergencyProgress}%</div>
                    </div>
                    <div class="text-xl font-bold text-yellow-800">${budget.emergency.toLocaleString()} Kč</div>
                </div>

                <div class="mt-6 p-4 bg-gray-50 rounded-2xl border border-gray-100">
                    <h4 class="font-bold text-gray-800 mb-3">Celkové shrnutí</h4>
                    <div class="text-sm text-gray-600 space-y-2">
                        <div class="flex justify-between">
                            <span>Celkové prostředky:</span>
                            <span class="font-semibold">${budget.totalAvailable.toLocaleString()} Kč</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Celkové výdaje:</span>
                            <span class="font-semibold">${budget.totalFixedExpenses.toLocaleString()} Kč</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Zbývá po výdajích:</span>
                            <span class="font-semibold">${(budget.totalAvailable - budget.totalFixedExpenses).toLocaleString()} Kč</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Celkové úspory:</span>
                            <span class="font-semibold">${(budget.savings + budget.emergency).toLocaleString()} Kč</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Míra úspor:</span>
                            <span class="font-semibold">${((budget.savings + budget.emergency) / budget.totalAvailable * 100).toFixed(1)}%</span>
                        </div>
                    </div>
                </div>
            </div>
        `;
    }
</script>
